webpackJsonp([5],{455:function(e,n,t){function a(e){t(508),t(507)}var s=t(53)(t(479),t(520),a,"data-v-d5cc019c",null);e.exports=s.exports},462:function(e,n,t){"use strict";var a={methods:{tagType:function(e,n,t){return{ask:"问答",share:"分享",job:"招聘",good:"精华",dev:"dev"}[e]},getTime:function(e){var n=new Date(e),t=(new Date-n)/1e3;return t<60?Math.floor(t)+"秒前":t/60<60?Math.floor(t/60)+"分钟前":t/3600<24?Math.floor(t/3600)+"小时前":t/3600/24<30?Math.floor(t/3600/24)+"天前":t/3600/24/30<12?Math.floor(t/3600/24/30)+"个月前":Math.floor(t/3600/24/30/12)+"年前"},dateFormat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return e;for(var n=["January","February","March","April","May","June","July","August","September","October","November","December"],t=new Date(e).toString().split(" "),a=void 0,s=0;s<n.length;s++)if(0==n[s].toLocaleLowerCase().indexOf(t[1].toLocaleLowerCase())){a=s<9?"0"+(s+1):s+1;break}return t[3]+"/"+a+"/"+t[2]}}};n.a=a},479:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(120),s=t.n(a),o=t(63),r=t(462);n.default={name:"message",data:function(){return{hasnot_read_messages:[],has_read_messages:[]}},mixins:[r.a],created:function(){this.update()},beforeDestroy:function(){this.$store.commit("resetMsgCount"),console.log(111)},computed:s()({},t.i(o.b)(["userToken","isLogin"]),{msgData:function(){var e=[];return this.hasnot_read_messages.map(function(e){return e.newMsg=!0}),this.has_read_messages.map(function(e){return e.newMsg=!1}),e=e.concat(this.hasnot_read_messages,this.has_read_messages)}}),methods:{linkDetails:function(e){e.newMsg=!1,this.$router.push({path:"/topics/"+e.topic.id})},markOne:function(e){var n=this,t="/message/mark_one/"+e;this.$http.post(t,{accesstoken:n.userToken}).then(function(e){}).catch(function(e){throw new Error(e)})},update:function(){var e=this;this.$http({url:"/messages",params:{accesstoken:e.userToken}}).then(function(n){e.hasnot_read_messages=n.data.data.hasnot_read_messages,e.has_read_messages=n.data.data.has_read_messages})}}}},495:function(e,n,t){n=e.exports=t(448)(!1),n.push([e.i,".messagePage .bodyCon {\n  padding: 0.066667rem;\n}\n\n.messagePage .bodyCon .markdown-text {\n  padding: 0;\n  max-height: 0.8rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n}",""])},496:function(e,n,t){n=e.exports=t(448)(!1),n.push([e.i,".messagePage[data-v-d5cc019c] {\n  background-color: #fff;\n}\n\n.messagePage .msgBox .msgTitle[data-v-d5cc019c] {\n  line-height: 1.45;\n  font-size: 0.186667rem;\n}\n\n.messagePage .msgReply[data-v-d5cc019c] {\n  padding: 0.186667rem 0;\n  background-color: #fff;\n  border-radius: 0.053333rem;\n}\n\n.messagePage .msgReply[data-v-d5cc019c]:last-child:after {\n  border: none;\n}\n\n.messagePage .msgReply img[data-v-d5cc019c] {\n  display: block;\n  margin-right: 0.133333rem;\n  width: 0.533333rem;\n  height: 0.533333rem;\n  border-radius: 50%;\n}\n\n.messagePage .msgReply .flexalign[data-v-d5cc019c] {\n  position: relative;\n  padding-bottom: 0.026667rem;\n  height: 0.533333rem;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n.messagePage .msgReply .username[data-v-d5cc019c] {\n  position: relative;\n  font-size: 0.186667rem;\n}\n\n.messagePage .msgReply .text[data-v-d5cc019c] {\n  color: #999;\n}\n\n.messagePage .msgReply .newTips[data-v-d5cc019c] {\n  position: absolute;\n  top: 0.2rem;\n  right: 0.04rem;\n  z-index: 0;\n  display: inline-block;\n  width: 0.066667rem;\n  height: 0.066667rem;\n  border-radius: 50%;\n  background-color: #f34343;\n}\n\n.messagePage .msgReply .bodyCon[data-v-d5cc019c] {\n  line-height: 0.266667rem;\n  font-size: 0.186667rem;\n  text-decoration: none;\n}\n\n.messagePage .msgReply .bodyCon a[data-v-d5cc019c] {\n  color: #08c;\n  margin: 0 0.066667rem;\n}\n\n.messagePage .msgReply .topic[data-v-d5cc019c] {\n  padding: 0.093333rem;\n  background-color: #f2f2f2;\n  cursor: pointer;\n}\n\n.messagePage .notedata[data-v-d5cc019c] {\n  padding: 0.266667rem 0;\n  font-size: 0.213333rem;\n  text-align: center;\n}",""])},507:function(e,n,t){var a=t(495);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t(449)("25ffc8a2",a,!0,{})},508:function(e,n,t){var a=t(496);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t(449)("4645d60c",a,!0,{})},520:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"messagePage"},[t("section",{staticClass:"msgBox"},[t("div",{staticClass:"pd10 conList"},[0!=e.has_read_messages.lenth?t("div",e._l(e.msgData,function(n){return t("article",{key:n.id,staticClass:"pds10 line-b msgReply"},[t("div",{staticClass:"flex"},[t("div",{staticClass:"flex_hd"},[t("img",{attrs:{src:n.author.avatar_url}})]),e._v(" "),t("div",{staticClass:"flex_bd"},[t("div",{staticClass:"flex flexalign"},[t("p",{staticClass:"username"},[e._v(e._s(n.author.loginname))]),e._v(" "),t("span",{staticClass:"text"},[e._v("回复了你的话题")]),e._v(" "),n.newMsg?t("span",{staticClass:"newTips"}):e._e()])]),e._v(" "),t("div",{staticClass:"flex_ft "},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.getTime(n.create_at))+"\n\t\t\t\t\t\t")])]),e._v(" "),t("div",{staticClass:"bodyCon",domProps:{innerHTML:e._s(n.reply.content)}}),e._v(" "),t("div",{staticClass:"topic",on:{click:function(t){return e.linkDetails(n)}}},[e._v(e._s("话题："+n.topic.title))])])}),0):e._e(),e._v(" "),0==e.has_read_messages.length?t("div",{staticClass:"notedata"},[e._v("暂无消息通知")]):e._e()])])])},staticRenderFns:[]}}});