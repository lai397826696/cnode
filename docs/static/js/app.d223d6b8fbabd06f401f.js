webpackJsonp([12],{185:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(132),a=n.n(o),i=n(120),s=n(122),r=n.n(s),c=n(462),l=n.n(c),u=n(211),d=n(212),h=n(208),f=(n.n(h),n(452)),p=(n.n(f),n(210)),m=n(209);i.a.config.productionTip=!1,i.a.use(p.a),i.a.use(m.a),i.a.prototype.$http=r.a,r.a.defaults.baseURL="https://cnodejs.org/api/v1",r.a.interceptors.request.use(function(t,e){return i.a.prototype.$loading(),t},function(t){return i.a.prototype.$loading("请求错误"),i.a.prototype.$loading.close(),a.a.reject(t)}),r.a.interceptors.response.use(function(t){return i.a.prototype.$loading.close(),t},function(t){return i.a.prototype.$loading("接收错误"),i.a.prototype.$loading.close(),a.a.reject(t)}),u.a.beforeEach(function(t,e,n){if(console.log(t),t.meta.islogin&&(!d.a.state.isLogin||"null"==t.params.name))return i.a.prototype.$alert("还没有登录呢~"),!1;d.a.commit("headShowfn",{show:t.meta.headShow}),"false"==String(t.meta.leftshow)?d.a.commit("leftshowfn",{show:t.meta.leftshow}):d.a.commit("leftshowfn",{show:!t.meta.leftshow}),d.a.commit("titlefn",{title:t.meta.title}),d.a.commit("footnavshowfn",{show:t.meta.footnavshow}),n()});var v=new i.a;new i.a({el:"#app",data:{Bus:v},store:d.a,router:u.a,template:"<App/>",components:{App:l.a}})},187:function(t,e,n){function o(t){n(453)}var a=n(54)(n(204),n(466),o,"data-v-4e0ecf5d",null);t.exports=a.exports},203:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(121),a=n.n(o),i=n(464),s=n.n(i),r=n(463),c=n.n(r),l=n(64);e.default={name:"app",data:function(){return{gotoshow:!1,top:0,transitionName:"roPage-left",modetype:"out-in"}},created:function(){this.msgCountfn()},components:{Headers:s.a,Footnav:c.a},computed:{},methods:a()({},n.i(l.a)(["msgCountfn"]),{scrolltop:function(){},goTop:function(){var t=this,e=Math.floor(this.top/15),n=setInterval(function(){t.$refs.appBody.scrollTop=t.top-e,t.top<=0&&clearInterval(n)},30)}}),watch:{$route:function(t,e){var n=t.path.split("/").length,o=e.path.split("/").length;n>o||t.meta.headShow?this.transitionName="roPage-left":this.transitionName="roPage-right"}}}},204:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"alertBox",data:function(){return{visible:!1,message:"提供默认的提示",callback:null,duration:1e3}},methods:{showfn:function(){this.visible=!0,this.endTime()},close:function(){this.visible=!1},endTime:function(){var t=this;this.duration>0&&setTimeout(function(){t.close(),"function"==typeof t.callback&&t.callback()},this.duration)}}}},205:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(121),a=n.n(o),i=n(64);e.default={data:function(){return{}},computed:a()({},n.i(i.b)(["footnavshow","msgCount"]))}},206:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(64);e.default={name:"header",data:function(){return{tabdata:[{type:"",name:"全部"},{type:"good",name:"精华"},{type:"share",name:"分享"},{type:"ask",name:"问答"},{type:"job",name:"招聘"},{type:"dev",name:"客户端"}],transitionName:"scale",modetype:"out-in"}},computed:n.i(o.b)(["headShow","title","leftshow"]),methods:{goBack:function(){this.$router.go(-1)}},watch:{$route:function(t,e){var n=t.path.split("/").length,o=e.path.split("/").length,a="topics,topic,user";n>o||t.meta.headShow?this.transitionName="roPage-left":this.transitionName="roPage-right",(a.indexOf(t.name)>=0&&a.indexOf(e.name)>=0||!e.name)&&(this.transitionName="scale")}}}},207:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"loading",data:function(){return{isShow:!1}},methods:{show:function(){this.isShow=!0},hide:function(){this.isShow=!1}}}},208:function(t,e){var n=void 0,o=void 0,a=document.documentElement,i=(document.querySelector('meta[name="viewport"]'),null);!function(){var t=window.navigator.userAgent.toLowerCase(),e="ipad"==t.match(/ipad/i),n="iphone os"==t.match(/iphone os/i),o="midp"==t.match(/midp/i),a="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),s="ucweb"==t.match(/ucweb/i),r="android"==t.match(/android/i),c="windows ce"==t.match(/windows ce/i),l="windows mobile"==t.match(/windows mobile/i);e||n||o||a||s||r||c||l?(console.log("您的浏览设备为：移动端"),i=!0):(i=!1,console.log("您的浏览设备为：PC端"))}(),n=window.devicePixelRatio||1,o=a.clientWidth/10*2,i||(o=100),console.log("dpr:"+n),a.setAttribute("data-dpr",n),a.setAttribute("style","font-size:"+o+"px"),window.rem2px=function(t){return(t=parseFloat(t))*o},window.px2rem=function(t){return(t=parseFloat(t))/o},window.dpr=n,window.rem=o},209:function(t,e,n){"use strict";var o=n(131),a=n.n(o),i=n(187),s=n.n(i);e.a={install:function(t){var e=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],t.extend(s.a)),n=null,o=1,i=function(t){n=(new e).$mount(),document.body.appendChild(n.$el);var i="alert"+o++;if(t)if("string"==typeof t)n.message=t;else{var s=a()(n.$data,t);n.id=i,n.message=s.message,n.duration=s.duration,n.callback=s.callback}n.showfn()};t.alert=t.prototype.$alert=i}}},210:function(t,e,n){"use strict";var o=n(132),a=n.n(o),i=n(465),s=n.n(i);e.a={install:function(t){function e(){return new a.a(function(t){i||(i=(new o).$mount(),document.querySelector(n.container||"body").appendChild(i.$el)),i.show(),t()})}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.extend(s.a),i=null;e.close=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new a.a(function(t){if(!i||!i.isShow)return void t();i.hide()})},t.loading=t.prototype.$loading=e}}},211:function(t,e,n){"use strict";var o=n(120),a=n(471);o.a.use(a.a);e.a=new a.a({routes:[{path:"/",name:"index",redirect:"/topics"},{path:"/topics",name:"topics",component:function(t){return n.e(1).then(function(){var e=[n(479)];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{headShow:!1,footnavshow:!0}},{path:"/topic",name:"topic",component:function(t){return n.e(4).then(function(){var e=[n(483)];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{headShow:!0,title:"发布帖子",footnavshow:!0,leftshow:!1,islogin:!0}},{path:"/user",name:"user",component:function(t){return n.e(7).then(function(){var e=[n(484)];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{headShow:!0,title:"个人中心",footnavshow:!0,leftshow:!1}},{path:"/topics/:id",name:"details",component:function(t){return n.e(8).then(function(){var e=[n(477)];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{headShow:!0,title:"帖子详情",footnavshow:!1}},{path:"/user/:name",name:"userinfos",component:function(t){return n.e(6).then(function(){var e=[n(485)];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{headShow:!0,title:"用户信息",footnavshow:!1,islogin:!0}},{path:"/login",name:"login",component:function(t){return n.e(9).then(function(){var e=[n(480)];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{headShow:!0,title:"用户登录",footnavshow:!1}},{path:"/message",name:"message",component:function(t){return n.e(5).then(function(){var e=[n(481)];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{headShow:!0,title:"消息通知",footnavshow:!0,islogin:!0,leftshow:!1}},{path:"/scroll",name:"scroll",component:function(t){return n.e(2).then(function(){var e=[n(482)];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{headShow:!0,title:"滚动条演示",footnavshow:!1}},{path:"/tabbox",name:"tabbox",component:function(t){return n.e(3).then(function(){var e=[n(486)];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{headShow:!0,title:"tab",footnavshow:!1}},{path:"/directive",name:"directive",component:function(t){return n.e(10).then(function(){var e=[n(478)];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{headShow:!0,title:"指令",footnavshow:!1}}]})},212:function(t,e,n){"use strict";var o=n(213),a=n.n(o),i=n(120),s=n(64),r=n(122),c=n.n(r);i.a.use(s.c);var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=window.localStorage.getItem("userinfo");return t&&"undefined"!=e?JSON.parse(e)[t]:!!e},u={scrollTop:0,headShow:null,footnavshow:null,leftshow:!0,title:"",msgCount:0,isLogin:l()?l("success"):null,userToken:l()?l("token"):null,userId:l()?l("id"):null,userName:l()?l("loginname"):null,userAvatar:l()?l("avatar_url"):null},d={loginfn:function(t,e){t.isLogin||(window.localStorage.setItem("userinfo",a()(e)),t.isLogin=e.success,t.userToken=e.token,t.userId=e.id,t.userName=e.loginname,t.userAvatar=e.avatar_url)},headShowfn:function(t,e){var n=e.show;t.headShow=n},titlefn:function(t,e){var n=e.title;t.title=n},footnavshowfn:function(t,e){var n=e.show;t.footnavshow=n},leftshowfn:function(t,e){var n=e.show;t.leftshow=n},scrollTopfn:function(t,e){var n=e.top;t.scrollTop=n},msgCountfn:function(t,e){var n=e.data;t.msgCount=n},resetMsgCount:function(t){t.msgCount=0}},h={msgCountfn:function(t){var e=t.commit,n=t.state;c.a.get("/message/count",{params:{accesstoken:n.userToken}}).then(function(t){e("msgCountfn",t.data)}).catch(function(t){throw new Error(t)})}},f={footnavshows:function(t){return t.footnavshow}};e.a=new s.c.Store({state:u,getters:f,actions:h,mutations:d})},452:function(t,e){},453:function(t,e){},454:function(t,e){},455:function(t,e){},456:function(t,e){},457:function(t,e){},462:function(t,e,n){function o(t){n(456)}var a=n(54)(n(203),n(469),o,"data-v-7ca868d2",null);t.exports=a.exports},463:function(t,e,n){function o(t){n(457)}var a=n(54)(n(205),n(470),o,"data-v-7edcb936",null);t.exports=a.exports},464:function(t,e,n){function o(t){n(455)}var a=n(54)(n(206),n(468),o,"data-v-76924b72",null);t.exports=a.exports},465:function(t,e,n){function o(t){n(454)}var a=n(54)(n(207),n(467),o,"data-v-6f4480fd",null);t.exports=a.exports},466:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"alertBox"},[n("div",{staticClass:"alertHead"}),t._v(" "),n("div",{staticClass:"alertBody"},[t._v("\n\t\t"+t._s(t.message)+"\n\t")])]):t._e()},staticRenderFns:[]}},467:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("div",{staticClass:"loadBox",attrs:{id:"loadBox"}},[t._m(0)]):t._e()},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading"},[n("div",{staticClass:"cube1"}),t._v(" "),n("div",{staticClass:"cube2"})])}]}},468:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{directives:[{name:"show",rawName:"v-show",value:t.headShow,expression:"headShow"}],staticClass:"appHeader"},[n("nav",{staticClass:"detailsTab"},[t.leftshow?n("div",{staticClass:"leftBox"},[n("a",{staticClass:"returnBtn",attrs:{href:"javascript:;"},on:{click:t.goBack}},[n("i",{staticClass:"font-icon icon-left-big"})])]):t._e(),t._v(" "),n("div",{staticClass:"centerBox"},[n("h3",{staticClass:"title"},[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"rightBox"})])])},staticRenderFns:[]}},469:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"appBody",attrs:{id:"app"}},[n("div",{staticClass:"appBody"},[n("Headers"),t._v(" "),n("transition",{attrs:{name:t.transitionName,mode:t.modetype}},[n("router-view",{staticClass:"child-view"})],1),t._v(" "),n("Footnav")],1),t._v(" "),n("div",{staticClass:"slideBar"},[n("a",{directives:[{name:"show",rawName:"v-show",value:t.gotoshow,expression:"gotoshow"}],staticClass:"scrollTop",attrs:{href:"javascript:;"},on:{click:t.goTop}},[t._v("Top")])])])},staticRenderFns:[]}},470:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{directives:[{name:"show",rawName:"v-show",value:t.footnavshow,expression:"footnavshow"}],staticClass:"line-t navBox"},[n("div",{staticClass:"flex nav"},[n("div",{staticClass:"flex_bd"},[n("router-link",{staticClass:"list",attrs:{to:"/topics"}},[t._v("首页")])],1),t._v(" "),n("div",{staticClass:"flex_bd"},[n("router-link",{staticClass:"list",attrs:{to:"/topic"}},[t._v("发表")])],1),t._v(" "),n("div",{staticClass:"flex_bd"},[n("router-link",{staticClass:"list",attrs:{to:"/message"}},[t._v("消息"),0!=t.msgCount?n("span",{staticClass:"msgTag"}):t._e()])],1),t._v(" "),n("div",{staticClass:"flex_bd"},[n("router-link",{staticClass:"list",attrs:{to:"/user"}},[t._v("我的")])],1)])])},staticRenderFns:[]}},473:function(t,e,n){n(186),t.exports=n(185)}},[473]);